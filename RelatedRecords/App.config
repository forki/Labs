<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <appSettings>
    <add key="dataSourceNameRegEx" value="([\s]*(?&lt;datasource&gt;Data\sSource=(?&lt;value&gt;[a-zA-Z\s\.0-9%\\]*)))"/>
    <add key="passwordRegEx" value="([\s]*(?&lt;passwordkey&gt;password|Password|PASSWORD)=(?&lt;passwordvalue&gt;[a-zA-Z\s\.0-9%\\\^\`~!@#\$&amp;\*\(\)_+\-=\[\{\]\}\]|:'&quot;,\&lt;\&gt;/\?]*))"/>
    <add key="schemaQuery"
      value="SELECT '[' + TABLE_NAME + ']' AS name
        ,(
        SELECT &quot;Column&quot;.COLUMN_NAME AS name, &quot;Column&quot;.DATA_TYPE AS DbType, &quot;Column&quot;.IS_NULLABLE AS isNullable, '' as defaultValue
        ,'isPrimaryKey' =
        (
        select count(*)
        from INFORMATION_SCHEMA.CONSTRAINT_COLUMN_USAGE ccu
        where ccu.TABLE_NAME = &quot;Table&quot;.TABLE_NAME and ccu.COLUMN_NAME = &quot;Column&quot;.COLUMN_NAME and left(ccu.CONSTRAINT_NAME, 2) = 'PK'
        )
        ,'isForeignKey' =
        (
        select count(*)
        from INFORMATION_SCHEMA.CONSTRAINT_COLUMN_USAGE ccu
        where ccu.TABLE_NAME = &quot;Table&quot;.TABLE_NAME and ccu.COLUMN_NAME = &quot;Column&quot;.COLUMN_NAME and left(ccu.CONSTRAINT_NAME, 2) = 'FK'
        ),'Constraint' =
		    (
        select replace(ccu.CONSTRAINT_NAME, 'FK_', '') 
        from INFORMATION_SCHEMA.CONSTRAINT_COLUMN_USAGE ccu
        where ccu.TABLE_NAME = &quot;Table&quot;.TABLE_NAME and ccu.COLUMN_NAME = &quot;Column&quot;.COLUMN_NAME and left(ccu.CONSTRAINT_NAME, 2) = 'FK'
        )
        
        FROM information_schema.columns AS &quot;Column&quot;
        WHERE &quot;Column&quot;.TABLE_NAME = &quot;Table&quot;.TABLE_NAME
        ORDER BY &quot;Column&quot;.ORDINAL_POSITION
        FOR XML AUTO, TYPE
        )
        FROM information_schema.TABLES AS &quot;Table&quot;
        WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME NOT LIKE 'sysdiagrams%'
        ORDER BY 1
        FOR XML AUTO, TYPE, ROOT('schema')
      "/>
  </appSettings>
</configuration>